<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-CN">
    <generator uri="https://gohugo.io/" version="0.67.1">Hugo</generator><title type="html"><![CDATA[æœ¨æœ¨æœ¨æœ¨æœ¨]]></title>
    
    
    
            <link href="https://immmmm.com/atom.xml" rel="self" type="application/rss+xml" title="atom" />
            <link href="https://immmmm.com/" rel="alternate" type="text/html" title="HTML" />
            <link href="https://immmmm.com/index.json" rel="alternate" type="application/json" title="JSON" />
    <updated>2021-01-08T08:54:54+00:00</updated>
    
    
    
    
        <id>https://immmmm.com/atom.xml</id>
    
        
        <entry>
            <title type="html"><![CDATA[ã€Œå“”å“”ç‚¹å•¥ã€å¾®ä¿¡å…¬ä¼—å· 2.0]]></title>
            <link href="https://immmmm.com/bb-by-wechat-pro/" rel="alternate" type="text/html" />
            
                <id>https://immmmm.com/bb-by-wechat-pro/</id>
            
            
            <published>2021-01-06T20:22:49+08:00</published>
            <updated>2021-01-06T20:22:49+08:00</updated>
            
            
            <content type="html"><![CDATA[<figure>
    <img src="https://lmm.elizen.me/images/2020/05/bbds.png"/><figcaption>ã€Œå“”å“”ç‚¹å•¥ã€å¾®ä¿¡å…¬ä¼—å· 2.0</figcaption></figure>

<p>åŸæ˜¯å‘åˆ° LeanCloud å¹³å°ï¼Œç° 2.0 æ˜¯å‘åˆ° <strong>ã€Œè…¾è®¯ CloudBaseã€</strong> ã€‚ç›®å‰å·²æ”¯æŒç”¨æˆ·åç»‘å®šã€è§£ç»‘ã€å‘æ–‡å­—ã€<strong>å‘å›¾ç‰‡</strong>ã€<strong>æ‰¹é‡åˆ é™¤</strong>ã€‚</p>
<ul>
<li>/list - æŸ¥è¯¢æœ€æ–°9æ¡</li>
<li>/bbæ•°å­— - åˆ é™¤ç¬¬å‡ æ¡ï¼Œå¦‚ /bb2</li>
<li>/unbb - æ’¤é”€æœ€æ–°ä¸€æ¡</li>
<li>/unbb æ•°å­— - æ’¤é”€æœ€æ–°å‡ æ¡ï¼Œå¦‚ /unbb 2</li>
<li>/nobody - è§£é™¤ç»‘å®š</li>
<li>/newbber KEY,HTTPè®¿é—®åœ°å€ - æ·»åŠ ç»‘å®š</li>
</ul>
<p>å¯¹ï¼Œç»‘å®šåªéœ€è¦2ä¸ªä¿¡æ¯ï¼Œä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>KEY</code> å’Œ <code>äº‘å‡½æ•°çš„httpè®¿é—®åœ°å€</code></p>
<h3 id="è…¾è®¯-cloudbase-éƒ¨ç½²è·å–ç¯å¢ƒid">è…¾è®¯ CloudBase éƒ¨ç½²ï¼Œè·å–ç¯å¢ƒID</h3>
<p>1.<a href="https://curl.qcloud.com/KnnJtUom">æ³¨å†Œäº‘å¼€å‘CloudBase</a></p>
<p>2.è¿›å…¥<a href="https://console.cloud.tencent.com/tcb/">äº‘å¼€å‘æ§åˆ¶å°</a>ï¼Œæ–°å»ºç¯å¢ƒï¼Œè¯·æŒ‰éœ€é…ç½®ç¯å¢ƒ</p>
<blockquote>
<p>æç¤ºï¼šç¯å¢ƒåç§°è‡ªç”±å¡«å†™ï¼Œæ¨èé€‰æ‹©è®¡è´¹æ–¹å¼åŒ…å¹´åŒ…æœˆï¼Œå¥—é¤ç‰ˆæœ¬åŸºç¡€ç­ 1ï¼Œè¶…å‡ºå…è´¹é¢åº¦ä¸ä¼šæ”¶è´¹ï¼Œå¦‚æœæç¤ºé€‰æ‹©â€œåº”ç”¨æ¨¡æ¿â€ï¼Œè¯·é€‰æ‹©â€œç©ºæ¨¡æ¿â€</p>
</blockquote>
<p>3.è¿›å…¥<a href="https://console.cloud.tencent.com/tcb/env/login">ç¯å¢ƒ-ç™»å½•æˆæƒ</a>ï¼Œå¯ç”¨â€œåŒ¿åç™»å½•â€</p>
<p>4.è¿›å…¥<a href="https://console.cloud.tencent.com/tcb/env/safety">ç¯å¢ƒ-å®‰å…¨é…ç½®</a>ï¼Œå°†ç½‘ç«™åŸŸåæ·»åŠ åˆ°â€œWEBå®‰å…¨åŸŸåâ€</p>
<p>5.å¤åˆ¶ <code>ç¯å¢ƒId</code> å¤‡ç”¨</p>
<h3 id="æ–°å»ºæ•°æ®åº“">æ–°å»ºæ•°æ®åº“</h3>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/talks.jpg" alt="talks"  /></p>
<p>æ–°å»ºæ•°æ®åº“é›†åˆï¼Œå‘½å <code>talks</code>ï¼Œæƒé™è®¾ç½®ä¸º â€œæ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œä»…ç®¡ç†å‘˜å¯å†™â€ã€‚</p>
<h3 id="äº‘å‡½æ•°éƒ¨ç½²">äº‘å‡½æ•°éƒ¨ç½²</h3>
<p>æ¥ç€ <a href="https://console.cloud.tencent.com/tcb/scf/index">æ–°å»ºäº‘å‡½æ•°</a> ï¼Œå‡½æ•°åç§° <code>bb</code> ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ï¼Œè¿›å…¥ <code>å‡½æ•°ä»£ç </code> ç¼–è¾‘èŠ‚ç›®ï¼ŒæŠŠä»¥ä¸‹ä»£ç ä¸¢å…¥ <code>index.js</code>ï¼Œç„¶åç¡®å®šã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#e6db74">&#39;use strict&#39;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">serverkey</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;xxxx&#39;</span> <span style="color:#75715e">//è‡ªå®šä¹‰api key
</span><span style="color:#75715e">//å¼•å…¥æ¨¡å—
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tcb</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@cloudbase/node-sdk&#34;</span>);
<span style="color:#75715e">//äº‘å¼€å‘åˆå§‹åŒ–
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tcb</span>.<span style="color:#a6e22e">init</span>({
  <span style="color:#a6e22e">env</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;bb-bbbb&#34;</span> <span style="color:#75715e">//å¡«å…¥è‡ªå·±çš„ç¯å¢ƒID
</span><span style="color:#75715e"></span>});
<span style="color:#75715e">//æ•°æ®åº“åˆå§‹åŒ–
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">db</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">database</span>()

<span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">main</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">context</span>) =&gt; {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">apikey</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">queryStringParameters</span>.<span style="color:#a6e22e">key</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">serverkey</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">apikey</span> ){
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">talksCollection</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">db</span>.<span style="color:#a6e22e">collection</span>(<span style="color:#e6db74">&#39;talks&#39;</span>)
        <span style="color:#75715e">//æå–æ¶ˆæ¯å†…å®¹ï¼Œå‘é€è€…ï¼Œæ¥å—è€…ï¼Œæ—¶é—´æˆ³ï¼Œæ¶ˆæ¯ç±»å‹ï¼Œå†…å®¹
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">CreateTime</span> <span style="color:#f92672">=</span> Date.<span style="color:#a6e22e">now</span>(),
            <span style="color:#a6e22e">Content</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">queryStringParameters</span>.<span style="color:#a6e22e">text</span>,
            <span style="color:#a6e22e">From</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">queryStringParameters</span>.<span style="color:#a6e22e">from</span>
        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">Content</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/list&#39;</span>){ <span style="color:#75715e">//æŸ¥è¯¢
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">resData</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">where</span>({}).<span style="color:#a6e22e">orderBy</span>(<span style="color:#e6db74">&#34;date&#34;</span>, <span style="color:#e6db74">&#34;desc&#34;</span>).<span style="color:#a6e22e">limit</span>(<span style="color:#ae81ff">9</span>).<span style="color:#a6e22e">get</span>().<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">res</span>) =&gt; {
                <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;=</span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">length</span>;<span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>){
                    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]);
                    <span style="color:#a6e22e">resData</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;/bb&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">content</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;\n&#39;</span>
                }
            });
            <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">resData</span>
        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(<span style="color:#e6db74">/^\/bb([1-9])$/</span>.<span style="color:#a6e22e">test</span>(<span style="color:#a6e22e">Content</span>)){ <span style="color:#75715e">//åˆ é™¤ç¬¬å‡ æ¡
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Content</span>.<span style="color:#a6e22e">match</span>(<span style="color:#e6db74">/^\/bb([1-9])$/</span>)
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">skipBb</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">where</span>({}).<span style="color:#a6e22e">orderBy</span>(<span style="color:#e6db74">&#34;date&#34;</span>, <span style="color:#e6db74">&#34;desc&#34;</span>).<span style="color:#a6e22e">skip</span>(<span style="color:#a6e22e">skipBb</span>).<span style="color:#a6e22e">limit</span>(<span style="color:#ae81ff">1</span>).<span style="color:#a6e22e">get</span>()
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">deId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">_id</span>
            <span style="color:#75715e">//console.log(&#39;deId&#39;+deId)4
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resDe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">doc</span>(<span style="color:#a6e22e">deId</span>).<span style="color:#a6e22e">remove</span>();
            <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;å·²åˆ é™¤ç¬¬&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">result</span>[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;æ¡&#39;</span>
        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">Content</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/unbb&#39;</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">Content</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">5</span>) <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/unbb&#39;</span>){ <span style="color:#75715e">//åˆ é™¤å“”å“”
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">unNumb</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">if</span>(<span style="color:#e6db74">/^\/unbb[, ]([1-9]\d*)$/</span>.<span style="color:#a6e22e">test</span>(<span style="color:#a6e22e">Content</span>)){
                <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Content</span>.<span style="color:#a6e22e">match</span>(<span style="color:#e6db74">/^\/unbb[, ]([1-9]\d*)$/</span>)
                <span style="color:#a6e22e">unNumb</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>[<span style="color:#ae81ff">1</span>]
            }
            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;=</span><span style="color:#a6e22e">unNumb</span>;<span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>){
                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">where</span>({}).<span style="color:#a6e22e">orderBy</span>(<span style="color:#e6db74">&#34;date&#34;</span>, <span style="color:#e6db74">&#34;desc&#34;</span>).<span style="color:#a6e22e">limit</span>(<span style="color:#ae81ff">1</span>).<span style="color:#a6e22e">get</span>()
                    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">deId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">_id</span>
                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resDe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">doc</span>(<span style="color:#a6e22e">deId</span>).<span style="color:#a6e22e">remove</span>();
            }
            <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;å·²åˆ é™¤ &#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">unNumb</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39; æ¡&#39;</span>
        }<span style="color:#66d9ef">else</span>{
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">add</span>({<span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Content</span>, <span style="color:#a6e22e">date</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date(<span style="color:#a6e22e">CreateTime</span>), <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">From</span>})
            <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">hasOwnProperty</span>(<span style="color:#e6db74">&#39;id&#39;</span>)){
                <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;å‘è¡¨æˆåŠŸ&#39;</span>
            }<span style="color:#66d9ef">else</span>{
                <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;å‘è¡¨å¤±è´¥&#39;</span>
            }
        }
    }<span style="color:#66d9ef">else</span>{
        <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;keyä¸åŒ¹é…&#34;</span>
    }
    <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">content</span>
    };
}
</code></pre></div><p>å®Œæˆåï¼Œç‚¹å‡»â€œæ–‡ä»¶ - æ–°å»ºæ–‡ä»¶â€ï¼Œè¾“å…¥ package.jsonï¼Œå›è½¦ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç ç²˜è´´ï¼Œç‚¹å‡» <code>ä¿å­˜å¹¶å®‰è£…ä¾èµ–</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
    <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;bb&#34;</span>,
    <span style="color:#e6db74">&#34;version&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;main&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;index.js&#34;</span>,
    <span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {<span style="color:#e6db74">&#34;@cloudbase/node-sdk&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;latest&#34;</span>}
}
</code></pre></div><h3 id="å¼€å¯-http-è®¿é—®æœåŠ¡è·å–httpè®¿é—®åœ°å€">å¼€å¯ HTTP è®¿é—®æœåŠ¡,è·å–HTTPè®¿é—®åœ°å€</h3>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bb-tx-1.png" alt="bb-tx-1"  /></p>
<p>ç¯å¢ƒ &ndash; HTTPè®¿é—®æœåŠ¡ &ndash; å¼€å¯ &ndash; æ–°å»ºï¼Œè·¯å¾„ä¸äº‘å‡½æ•°ååŒ¹é…ã€‚</p>
<p>ç°åœ¨å¯ä»¥ç‚¹å¼€çœ‹ä¸€ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">https://ä½ åå°æ˜¾ç¤ºçš„.ap-shanghai.app.tcloudbase.com/bb
</code></pre></div><p>æç¤º <code>keyä¸åŒ¹é…</code>ï¼ŒæˆåŠŸï¼ç•™å­˜æ­¤é“¾æ¥ï¼ï¼ï¼</p>
<h3 id="æ‰«ç ç»‘å®š">æ‰«ç ï¼Œç»‘å®š</h3>
<figure>
    <img src="https://lmm.elizen.me/images/2020/05/bbds.png"/><figcaption>ã€Œå“”å“”ç‚¹å•¥ã€å¾®ä¿¡å…¬ä¼—å· 2.0</figcaption></figure>

<pre><code>/newbber YourKey,YourHTTPè®¿é—®åœ°å€
</code></pre><p>é£èµ·ï½</p>
<h3 id="é™„èµ -alfred-workflow">é™„èµ  Alfred Workflow</h3>
<p>å…¶å®å…¬ä¼—å·ä»…ç”¨ä½œäº†è½¬å‘æ–‡å­—å†…å®¹ï¼Œå…·ä½“åŠŸèƒ½éƒ½æ˜¯å„è‡ªåœ°æ–¹ï¼Œå¥½å¤„æ˜¯ï¼Œè®¿é—®ä»¥ä¸‹æ ¼å¼é“¾æ¥ä¹Ÿèƒ½ç”¨ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">https://ä½ åå°æ˜¾ç¤ºçš„.ap-shanghai.app.tcloudbase.com/bb?key=äº‘å‡½æ•°é‡Œè®¾ç½®çš„<span style="color:#960050;background-color:#1e0010">&amp;</span>from=è‡ªå·±å‘æŒ¥ä¸€ä¸ª<span style="color:#960050;background-color:#1e0010">&amp;</span>text=å“”å“”çš„å†…å®¹
</code></pre></div><p>æ¯”å¦‚ç”¨ Alfred çš„è¿™ä¸ª <a href="https://github.com/lmm214/diybug/raw/main/%E6%B5%AE%E5%93%94%E4%BA%BA%E7%94%9F2.0.alfredworkflow">æµ®å“”äººç”Ÿ.alfredworkflow</a></p>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/fbrs.png" alt="fbrs.png"  /></p>
<p>è¾“å…¥å¥½å¯¹åº”çš„ HTTPè®¿é—®åœ°å€ã€KEY ï¼Œè¾“å…¥ <code>b /unbb</code> å°±èƒ½åˆ é™¤æœ€æ–°ä¸€æ¡å“”å“”</p>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/unbb.jpg" alt="unbb"  /></p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="æŠ˜è…¾" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[äºŒã€‡äºŒä¸€ï¼Œä½ å¥½]]></title>
            <link href="https://immmmm.com/hi-2021/" rel="alternate" type="text/html" />
            
                <id>https://immmmm.com/hi-2021/</id>
            
            
            <published>2021-01-02T14:22:57+08:00</published>
            <updated>2021-01-02T14:22:57+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>å›æœ›ï¼Œè¿‡å»è¿™ä¸€å¹´ï¼Œåœ¨å¦‚æ­¤ä¸ç¡®å®šä¸‹ä»èƒ½è¿‡ç€å‡ ä¹æ­£å¸¸çš„ç”Ÿæ´»ï¼Œä¸‡åˆ†åº†å¹¸ï¼</p>
<p>ç”Ÿå‘½ä¸æ­¢ï¼ŒæŠ˜è…¾ä¸æ¯ã€‚</p>
<h3 id="gridea">Gridea</h3>
<p>å¼ƒç”¨æŸé™æ€æ‰˜ç®¡å¹³å°ï¼Œå¯ç”¨ <a href="https://gridea.dev/">Gridea</a> åˆ†ç¦»å‡º <a href="https://i.immmmm.com/">ã€Œæ—å°æ²ã€</a> â€œæ™’å¨ƒâ€å­åšå®¢ã€‚</p>
<p>è½¬åˆ¶äº†å‡ æ¬¾ä¸»é¢˜ï¼š <a href="https://immmmm.com/gridea-theme-puti/">Gridea Theme Puti</a>ã€<a href="https://immmmm.com/gridea-theme-motify/">Gridea Theme Motify</a>ã€<a href="https://immmmm.com/gridea-theme-webstack/">Gridea Theme WebStack</a></p>
<h3 id="hugo">Hugo</h3>
<p>æ„Ÿè°¢ <a href="https://dearroy.com/">@ç½—ä¼Š</a> æ”¶ç•™è¿™å°ç«™ï¼Œå€ŸåŠ© VS Code + Github + VPS å¼€å¯é™æ€åšå®¢æ–°ä½“éªŒï¼å‰ä¸¤é¡¹å®ç°å¤šè®¾å¤‡åŒæ­¥æ•°æ®ï¼Œåä¸€é¡¹å®ç°åŸŸåç®¡ç†ã€ç«™ç‚¹æé€Ÿã€‚</p>
<p>ä¹Ÿç›¸åº”æŠ˜è…¾äº†äº›ï¼Œå¦‚ï¼š <a href="https://github.com/lmm214/immmmm/tree/master/themes/hello-friend">ã€Œhello-friendã€è‡ªç”¨ç‰ˆ</a>ã€<a href="https://immmmm.com/hugo-theme-webstack/">Hugo Theme Webstack</a></p>
<h3 id="è¯„è®ºå’Œå“”å“”">è¯„è®ºå’Œå“”å“”</h3>
<p>åœç”¨ Leancloudï¼Œè½¬å…¥è…¾è®¯äº‘ Cloudbaseï¼Œèˆ’å¿ƒå¤šäº†ï¼Œè¢«æµæ§é‚®ä»¶æé†’çƒ¦äº†ã€‚</p>




	
		
	


<div class="post-preview">
  <div class="post-preview--meta" style="width:100%;">
    <div class="post-preview--middle">
      <h4 class="post-preview--title">
        <a target="_blank" href="https://immmmm.com/hello-twikoo-comment/">å¯ç”¨ Twikoo è¯„è®ºç³»ç»Ÿ</a>
      </h4>
      <time class="post-preview--date">2020-11-21</time>
      
      <small>#æŠ˜è…¾&nbsp;</small>
      
      <section style="max-height:96px;overflow:hidden;" class="post-preview--excerpt">
        æ„Ÿè°¢ @iMaeGoo å¤§ç¥ç”¨çˆ±å‘ç”µï¼Œé¡ºåˆ©å¯ç”¨ Twikoo è¯„è®ºç³»ç»Ÿï¼Œå¹¶å®Œç¾è¿ç§» Valine è¯„è®ºæ•°æ®ã€‚
ä¸‹åˆåœ¨ @å¤§å¤§çš„å°èœ—ç‰›  åšå®¢çœ‹åˆ°è¯„è®ºç³»ç»Ÿå³ä¸‹è§’ç«Ÿç„¶ä¸æ˜¯ Valine å“¦ï¼Œèµ«ç„¶æ˜¾ç¤ºè¿™ Twikooï¼Œå•¥ï¼Ÿï¼
åŸæ¥æ˜¯åŸºäºè…¾è®¯äº‘å¼€å‘çš„è¯„è®ºç³»ç»Ÿï¼Œæ¢ï¼

      </section>
    </div>
  </div>
  
</div>





	
		
			
			
		
	


<div class="post-preview">
  <div class="post-preview--meta" style="width:100%;">
    <div class="post-preview--middle">
      <h4 class="post-preview--title">
        <a target="_blank" href="https://immmmm.com/bb-tx-cloudbase/">å“”å“” CloudBase</a>
      </h4>
      <time class="post-preview--date">2020-12-27</time>
      
      <small>#æŠ˜è…¾&nbsp;</small>
      
      <section style="max-height:96px;overflow:hidden;" class="post-preview--excerpt">
        è‚äº†ä¸€ä¸‹åˆï¼Œé¡ºåˆ©æŠŠ å“”å“” ç”± LeanCloud è¿ç§»è‡³è…¾è®¯ CloudBase ï¼é¡µé¢æ‰“å¼€ã€å„ç«¯bbï¼Œé£èµ·ï¼
åŸºæœ¬æ€è·¯ï¼šä½¿ç”¨ HTTP è®¿é—®äº‘å‡½æ•° è§¦å‘ äº‘å‡½æ•° æ’å…¥æ–°å“”å“”åˆ° æ•°æ®åº“ï¼Œæå®šï¼
CloudBase ç¯å¢ƒéƒ¨ç½² å‚è€ƒ https://twikoo.js.org/quick-start.html å®Œæˆç¯å¢ƒéƒ¨ç½²ã€‚

      </section>
    </div>
  </div>
  
    <img rel="link" loading="lazy" class="post-preview--image avatar" src="https://lmm.elizen.me/images/2020/12/bb-tx-1.png">
  
</div>

<p>æœ‰äº›åŠŸèƒ½è¢«é™ï¼Œæ€»æœ‰äººå‡ºæ¥ç»§ç»­é€ è½®å­ï¼å†æ¬¡æ„Ÿè°¢ <a href="https://www.imaegoo.com/">@iMaeGoo</a> !</p>
<h3 id="å¾®ä¿¡å°ç¨‹åº">å¾®ä¿¡å°ç¨‹åº</h3>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2021/01/xcx.png" alt="xcx"  /></p>
<p>å‰åè¾¹å­¦è¾¹åšå°†è¿‘ä¸‰å¹´ï¼Œç”¨ <a href="https://cloud.minapp.com/">çŸ¥æ™“äº‘</a> ä½œä¸ºåç«¯å’Œ <a href="https://github.com/weilanwl/ColorUI">ColorUI</a> æ ·å¼åº“ï¼ŒåŸºæœ¬ä¸Šå·²å‘å¼€å‡ºè‡ªå·±æƒ³å¼€å‘çš„åŠŸèƒ½ï¼Œä»æœ€åˆæ¯å¹´å‡ ç™¾çš„åç«¯è´¹ç”¨ï¼Œç°åœ¨ç´¯è®¡å¹¿å‘Šæ”¶å…¥ä¹Ÿæœ‰ 3Kï¼Œå¤§éƒ¨åˆ†æ”¶å…¥æ˜¯ç‰¹æ®Šæ—¶æœŸã€‚å½“ç„¶ï¼Œå¹³å¸¸ä¹Ÿå°±å‡ æ¯›ï¼Œåˆšå‡ºäº†ä¸ªå¼€å±å¹¿å‘Šï¼Œæ¯å¤©åˆèƒ½å¤šä¸ªå‡ æ¯›ï¼Œæœˆåº•å‹‰å¼ºæ”’ç¾å¼ï¼</p>
<p>å¯¹äºæŠ˜è…¾ï¼Œä¸å†åæ‰§è¿½æ±‚åƒç´ çº§ã€100% Onlineï¼Œé€‚å½“çš„å¦¥åèƒ½è®©è‡ªå·±å¤šç¡å‡ å¤©æ—©è§‰ã€‚</p>
<h3 id="ç©ç‰©åºŸå¿—">ç©ç‰©åºŸå¿—</h3>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2021/01/brawl.PNG" alt="brawl"  /></p>
<p>å¹´ä¸­æˆä¸º Nintendo Switch å›½è¡Œå‹‡å£«ä¸€å‘˜ï¼Œæ—·é‡è‚äº†200h+ï¼Œè’é‡è‚äº†6Kå¤šåœºï¼Œæ— æ•°æ¬¡å‡Œæ™¨ï¼Œå¦‚çŸ¥å¸çƒŸæœ‰å®³ä¾ç„¶ç…§å¸ä¸è¯¯ï¼Œä»¥æ­¤è‡ªæˆ‘è¯´æ˜åŸºå› å¼ºå¤§ã€‚</p>
<h3 id="åå¹´ä¹‹çº¦">åå¹´ä¹‹çº¦</h3>
<figure>
    <img src="https://lmm.elizen.me/images/2021/01/foreverblog-1.png"/><figcaption>åšå®¢åå¹´ä¹‹çº¦</figcaption></figure>

<p>RSSèšåˆï¼š<a href="http://rss.foreverblog.cn/">http://rss.foreverblog.cn/</a></p>
<p>å½“åˆä¹Ÿåˆ©ç”¨ Google API æ•´è¿‡ä¸€ä¸ªï¼Œç°åœ¨åšæŒç”¨ feed è®¢é˜…ç®—æ˜¯ä¸€ç§æƒ…æ€€å•¦ï¼</p>
<h3 id="é˜…è¯»åˆ·å‰§">é˜…è¯»åˆ·å‰§</h3>
<p>å·¥ä½œå¤–çš„å…«å°æ—¶ï¼Œå¸¦å¨ƒã€çœ‹ä¹¦ã€åˆ·å‰§ã€åˆ·åœˆâ€¦â€¦éƒ½è¦ï¼è®©è‡ªå·±æˆä¸ºæœ‰ç‚¹ä¿—ã€æœ‰ç‚¹é›…ã€æœ‰ç‚¹æ„æ€ä¸å•è°ƒçš„äººã€‚</p>
<p>é˜…è¯»ä¸Šå‡ ä¹éƒ½æ˜¯â€œåŒ»å­¦â€å’Œâ€œæ•™è‚²â€ä¸»é¢˜ï¼Œå¼‚å¸¸èµåŒè¿™å¥â€œç†è®ºçš„å®è·µæ€§è§£è¯»ï¼Œæ•™å­¦å®è·µçš„ç†è®ºæ€§åæ€â€ï¼Œç‰¹åˆ«å¯¹äºä¸€çº¿å®è·µçš„æˆ‘ä»¬æ¥è¯´ï¼Œæ›´åº”è¯¥ä½“ç°è‡ªå·±çš„â€œå®è·µæ™ºæ…§â€ï¼Œé¿å…æ•™å­¦æ”¹é©å¸¸è§å¼Šç—…ï¼Œå³ä¸€ç›´åœ¨è¿½èµ¶æ½®æµï¼Œæœ€ç»ˆå´ä¸€æ— æ‰€æˆã€‚</p>
<p>æ„Ÿæ…¨ï¼ŒæŒ‘ä¹¦ä¸è¯¯çœ‹ä¹¦åŠŸã€‚è¿½ç€ä¸€æœ¬é‡Œçš„ä¸€ä¸²å‚è€ƒä¹¦ç›®ï¼Œå¤§å¤§é™ä½è¸©å‘å‡ ç‡ã€‚</p>
<p><a href="https://movie.douban.com/subject/33477335/">https://movie.douban.com/subject/33477335/</a></p>
<p><a href="https://movie.douban.com/subject/30223100/">https://movie.douban.com/subject/30223100/</a></p>
<p><a href="https://movie.douban.com/subject/25806638/">https://movie.douban.com/subject/25806638/</a></p>
<p>åˆ·å‰§ï¼Œæ„Ÿæ…¨ï¼Œå¹³æ·¡æ˜¯çœŸï¼</p>
<h3 id="ç»“è¯­">ç»“è¯­</h3>
<p>é—æ†¾æ€»å½’æœ‰çš„ï¼Œè¿‡å»çš„å°±è®©ä»–è¿‡å»å§ï¼ŒæŠ¬å¤´æ˜¯æ˜Ÿè¾°å¤§æµ·ï¼Œä½å¤´æ˜¯çˆ±ä¸è¢«çˆ±ã€‚</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%97%A5%E5%B8%B8" term="%E6%97%A5%E5%B8%B8" label="æ—¥å¸¸" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[å“”å“” Pro]]></title>
            <link href="https://immmmm.com/bb-pro/" rel="alternate" type="text/html" />
            
                <id>https://immmmm.com/bb-pro/</id>
            
            
            <published>2020-12-28T23:39:12+08:00</published>
            <updated>2020-12-28T23:39:12+08:00</updated>
            
            
            <content type="html"><![CDATA[<h3 id="pro-n01">Pro N0.1</h3>
<p>å‰ç«¯æ”¯æŒé“¾æ¥ã€å›¾ç‰‡æ˜¾ç¤ºã€‚å‘å“”å“”çš„æ—¶å€™æ’å…¥å›¾ç‰‡é“¾æ¥æˆ–ç½‘å€é“¾æ¥ï¼Œä¼šè‡ªåŠ¨è¯†åˆ«æ˜¾ç¤ºã€‚æ ¸å¿ƒä»£ç æ¥è‡ª <a href="https://www.heson10.com/">@é»‘çŸ³</a> :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">urlToLink</span>(<span style="color:#a6e22e">str</span>) {
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">re</span> <span style="color:#f92672">=</span><span style="color:#e6db74">/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|gif))\S+/g</span>;
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">re_forpic</span> <span style="color:#f92672">=</span><span style="color:#e6db74">/\bhttps?:\/\/.*?(\.gif|\.jpeg|\.png|\.jpg|\.bmp|\.webp)/g</span>;
  <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">re</span>,<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">website</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&lt;a href=&#39;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">website</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39; target=&#39;_blank&#39;&gt; &lt;i class=&#39;iconfont icon-lianjie-copy&#39;&gt;&lt;/i&gt;é“¾æ¥ &lt;/a&gt;&#34;</span>;
  });
  <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span><span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">re_forpic</span>,<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">imgurl</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&lt;img src=&#39;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">imgurl</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&#39;  /&gt; &#34;</span>;
  });
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">str</span>;
}
</code></pre></div><p>å®Œæ•´ä»£ç å‚è€ƒæœ¬ä¸»é¢˜ <a href="https://github.com/lmm214/immmmm/blob/master/themes/hello-friend/layouts/_default/bb.html">bb.html</a> ï¼Œä¸»è¦åŠ äº†ä¸Šé¢çš„è¿‡æ»¤æ­£åˆ™ <code>urlToLink(item.content)</code> ã€‚</p>
<h3 id="pro-n02">Pro N0.2</h3>
<p>æ¥å…¥ <a href="https://7bu.top/">å»ä¸å›¾åºŠ</a> ï¼Œæ³¨å†Œä¹‹åè®¿é—®ï¼š</p>
<p><code>https://7bu.top/api/token?email=ä½ çš„é‚®ç®±&amp;password=ä½ çš„å¯†ç </code> è®°ä¸‹ <code>token</code> å€¼ã€‚</p>
<p><a href="https://7bu.top/index/api.html">å›¾ç‰‡ä¸Šä¼ API</a> å¼‚å¸¸ç›´æ¥ï¼Œpost <code>https://7bu.top/api/upload</code> ï¼Œheader å¸¦ä¸Šè‡ªå·±çš„ <code>token</code>ï¼Œä¸å¸¦åˆ™åŒ¿åä¸Šä¼ ã€‚ç”¨è¡¨å•çš„è¯·æ±‚å‚æ•° <code>image</code> æäº¤ <code>File</code>ã€‚</p>
<p>ç›¸å…³æ•™ç¨‹ï¼š<a href="https://dusays.com/241/">å»ä¸å›¾åºŠPicGoä¸Šä¼ æ’ä»¶çš„ä½¿ç”¨</a>ã€<a href="https://blog.svend.cc/upic/tutorials/custom/">uPic å›¾åºŠé…ç½®æ•™ç¨‹ - è‡ªå®šä¹‰</a></p>
<h3 id="pro-n03">Pro N0.3</h3>
<p>iOS å¿«æ·æŒ‡ä»¤ä¸Šä¼ å›¾ç‰‡åè¿”å›é“¾æ¥ï¼Œåˆ°å“”å“”è¾“å…¥æ¡†ã€‚</p>
<p><photos><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bbpro-1.jpeg" alt="bbpro-1"  /><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bbpro-2.jpeg" alt="bbpro-2"  /><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bbpro-3.png" alt="bbpro-3"  /><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bbpro-4.png" alt="bbpro-4"  /></photos></p>
<p>ç”šè‡³ç”¨â€œå¿«æ·æŒ‡ä»¤è°ƒç”¨å…¶ä»–æŒ‡ä»¤â€å®ç°åŒæ­¥å‘å“”å“”å’ŒFlomoã€‚</p>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bbpro-5.jpeg" alt="bbpro-5"  /></p>
<p>å…·ä½“å…¶ä»–å¹³å°å‘å¸ƒæ–¹å¼ï¼Œæ”¹æ—¥æ”¹æ—¥å†ç¢ç£¨ï½</p>
]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="æŠ˜è…¾" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[å“”å“” CloudBase]]></title>
            <link href="https://immmmm.com/bb-tx-cloudbase/" rel="alternate" type="text/html" />
            
                <id>https://immmmm.com/bb-tx-cloudbase/</id>
            
            
            <published>2020-12-27T23:58:17+08:00</published>
            <updated>2020-12-27T23:58:17+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>è‚äº†ä¸€ä¸‹åˆï¼Œé¡ºåˆ©æŠŠ <a href="https://immmmm.com/bb/">å“”å“”</a> ç”± LeanCloud è¿ç§»è‡³è…¾è®¯ CloudBase ï¼é¡µé¢æ‰“å¼€ã€å„ç«¯bbï¼Œé£èµ·ï¼</p>
<p>åŸºæœ¬æ€è·¯ï¼š<a href="https://cloud.tencent.com/document/product/876/41776">ä½¿ç”¨ HTTP è®¿é—®äº‘å‡½æ•°</a> è§¦å‘ <a href="https://cloud.tencent.com/document/product/876/46798">äº‘å‡½æ•°</a> æ’å…¥æ–°å“”å“”åˆ° <a href="https://cloud.tencent.com/document/product/876/19362">æ•°æ®åº“</a>ï¼Œæå®šï¼</p>
<h3 id="cloudbase-ç¯å¢ƒéƒ¨ç½²">CloudBase ç¯å¢ƒéƒ¨ç½²</h3>
<p>å‚è€ƒ  <a href="https://twikoo.js.org/quick-start.html">https://twikoo.js.org/quick-start.html</a> å®Œæˆç¯å¢ƒéƒ¨ç½²ã€‚</p>
<h3 id="æ—§æ•°æ®è½¬åŒ–">æ—§æ•°æ®è½¬åŒ–</h3>
<p>æŠŠ LC ä¸Šçš„è¯„è®ºå¯¼å‡ºå¹¶è¿›è¡Œæ ¼å¼è½¬åŒ–ï¼Œå½¢æˆå¦‚ä¸‹æ ¼å¼ï¼Œ<code>from</code> å­—æ®µæ˜¯æˆ‘è‡ªå·±åæ¥åŠ çš„ã€‚</p>
<pre><code>{&quot;_id&quot;:&quot;4ec5c2495fe84db1000046a47026ed51&quot;,&quot;from&quot;:&quot;Alfred&quot;,&quot;content&quot;:&quot;æ¶æœä¹‹åœ°å¾—åˆ°å„â€œé‡‘å¡â€è«åå°±é€šå…³+1&quot;,&quot;date&quot;:{&quot;$date&quot;:&quot;2020-12-27T07:38:10.844Z&quot;}}
</code></pre><p>æ•°æ®åº“ &ndash; æ–°å»ºé›†åˆï¼Œ<code>talks</code> ï¼ˆå½“ç„¶å¯è‡ªå®šï¼‰å¯¼å…¥json ï¼Œæƒé™è®¾ä¸ºâ€œæ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œä»…ç®¡ç†å‘˜å¯å†™â€œã€‚</p>
<h3 id="html-æ˜¾ç¤ºä»£ç ">html æ˜¾ç¤ºä»£ç </h3>
<p>å‚è€ƒï¼š <a href="https://github.com/lmm214/immmmm/blob/master/themes/hello-friend/layouts/_default/bb.html">https://github.com/lmm214/immmmm/blob/master/themes/hello-friend/layouts/_default/bb.html</a></p>
<p>ä¿®æ”¹å…¶ä¸­çš„ ç¯å¢ƒid ï¼ŒåŒ¹é…è‡ªå·±çš„ä¸»é¢˜æ ·å¼ã€‚</p>
<h3 id="äº‘å‡½æ•°ä»£ç ">äº‘å‡½æ•°ä»£ç </h3>
<p>æ¥ç€ <a href="https://console.cloud.tencent.com/tcb/scf/index">æ–°å»ºäº‘å‡½æ•°</a> ï¼Œå‡½æ•°åç§° <code>bb</code> ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ï¼Œè¿›å…¥ <code>å‡½æ•°ä»£ç </code> ç¼–è¾‘èŠ‚ç›®ï¼ŒæŠŠä»¥ä¸‹ä»£ç ä¸¢å…¥ <code>index.js</code>ï¼Œç„¶åç¡®å®šã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#e6db74">&#39;use strict&#39;</span>;
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">serverkey</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;xxxx&#39;</span> <span style="color:#75715e">//è‡ªå®šä¹‰api key
</span><span style="color:#75715e">//å¼•å…¥æ¨¡å—
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">tcb</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;@cloudbase/node-sdk&#34;</span>);
<span style="color:#75715e">//äº‘å¼€å‘åˆå§‹åŒ–
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tcb</span>.<span style="color:#a6e22e">init</span>({
  <span style="color:#a6e22e">env</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;bb-bbbb&#34;</span> <span style="color:#75715e">//å¡«å…¥è‡ªå·±çš„ç¯å¢ƒID
</span><span style="color:#75715e"></span>});
<span style="color:#75715e">//æ•°æ®åº“åˆå§‹åŒ–
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">db</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">database</span>()

<span style="color:#a6e22e">exports</span>.<span style="color:#a6e22e">main</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">async</span> (<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">context</span>) =&gt; {
    <span style="color:#75715e">//return event
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">apikey</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">queryStringParameters</span>.<span style="color:#a6e22e">key</span>
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">serverkey</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">apikey</span> ){
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">talksCollection</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">db</span>.<span style="color:#a6e22e">collection</span>(<span style="color:#e6db74">&#39;talks&#39;</span>)
        <span style="color:#75715e">//æå–æ¶ˆæ¯å†…å®¹ï¼Œå‘é€è€…ï¼Œæ¥å—è€…ï¼Œæ—¶é—´æˆ³ï¼Œæ¶ˆæ¯ç±»å‹ï¼Œå†…å®¹
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">CreateTime</span> <span style="color:#f92672">=</span> Date.<span style="color:#a6e22e">now</span>(),
            <span style="color:#a6e22e">Content</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">queryStringParameters</span>.<span style="color:#a6e22e">text</span>,
            <span style="color:#a6e22e">From</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">queryStringParameters</span>.<span style="color:#a6e22e">from</span>
        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">Content</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;/unbb&#39;</span>){ <span style="color:#75715e">//åˆ é™¤æœ€æ–°ä¸€æ¡å“”å“”
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">where</span>({}).<span style="color:#a6e22e">orderBy</span>(<span style="color:#e6db74">&#34;date&#34;</span>, <span style="color:#e6db74">&#34;desc&#34;</span>).<span style="color:#a6e22e">limit</span>(<span style="color:#ae81ff">1</span>).<span style="color:#a6e22e">get</span>()
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">deId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">data</span>[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">_id</span>
            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resDe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">doc</span>(<span style="color:#a6e22e">deId</span>).<span style="color:#a6e22e">remove</span>();
            <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">resDe</span>.<span style="color:#a6e22e">hasOwnProperty</span>(<span style="color:#e6db74">&#39;deleted&#39;</span>)){
                <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;åˆ é™¤æˆåŠŸ&#39;</span>
            }<span style="color:#66d9ef">else</span>{
                <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;åˆ é™¤å¤±è´¥&#39;</span>
            }
        }<span style="color:#66d9ef">else</span>{
            <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">talksCollection</span>.<span style="color:#a6e22e">add</span>({<span style="color:#a6e22e">content</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Content</span>, <span style="color:#a6e22e">date</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> Date(<span style="color:#a6e22e">CreateTime</span>), <span style="color:#a6e22e">from</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">From</span>})
            <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">hasOwnProperty</span>(<span style="color:#e6db74">&#39;id&#39;</span>)){
                <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;å‘è¡¨æˆåŠŸ&#39;</span>
            }<span style="color:#66d9ef">else</span>{
                <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;å‘è¡¨å¤±è´¥&#39;</span>
            }
        }
    }<span style="color:#66d9ef">else</span>{
        <span style="color:#a6e22e">content</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;keyä¸åŒ¹é…&#34;</span>
    }
    <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">content</span>
    };
}
</code></pre></div><p>å®Œæˆåï¼Œç‚¹å‡»â€œæ–‡ä»¶ - æ–°å»ºæ–‡ä»¶â€ï¼Œè¾“å…¥ package.jsonï¼Œå›è½¦ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç ç²˜è´´ï¼Œç‚¹å‡»â€œä¿å­˜å¹¶å®‰è£…ä¾èµ–â€ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
    <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;bb&#34;</span>,
    <span style="color:#e6db74">&#34;version&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
    <span style="color:#e6db74">&#34;main&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;index.js&#34;</span>,
    <span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {<span style="color:#e6db74">&#34;@cloudbase/node-sdk&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;latest&#34;</span>}
}
</code></pre></div><h3 id="å¼€å¯-http-è®¿é—®æœåŠ¡">å¼€å¯ HTTP è®¿é—®æœåŠ¡</h3>
<p><img loading='lazy' src="https://lmm.elizen.me/images/2020/12/bb-tx-1.png" alt="bb-tx-1"  /></p>
<p>ç¯å¢ƒ &ndash; HTTPè®¿é—®æœåŠ¡ &ndash; å¼€å¯ &ndash; æ–°å»ºï¼Œè·¯å¾„ä¸äº‘å‡½æ•°ååŒ¹é…ã€‚</p>
<p>ç°åœ¨å¯ä»¥ç‚¹å¼€çœ‹ä¸€ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">https://ä½ åå°æ˜¾ç¤ºçš„.ap-shanghai.app.tcloudbase.com/bb
</code></pre></div><p>æç¤º <code>keyä¸åŒ¹é…</code>ï¼Œé˜¶æ®µæ€§æˆåŠŸï¼</p>
<h3 id="æ„å»º-http-è¯·æ±‚">æ„å»º http è¯·æ±‚</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">https://ä½ åå°æ˜¾ç¤ºçš„.ap-shanghai.app.tcloudbase.com/bb?key=äº‘å‡½æ•°é‡Œè®¾ç½®çš„<span style="color:#960050;background-color:#1e0010">&amp;</span>from=è‡ªå·±å‘æŒ¥ä¸€ä¸ª<span style="color:#960050;background-color:#1e0010">&amp;</span>text=å“”å“”çš„å†…å®¹
</code></pre></div><p>http åŠ äº†3ä¸ªå‚æ•°ï¼Œ <code>key</code> <code>from</code> <code>text</code> ï¼Œæµè§ˆå™¨ä¸€å‘ï¼Œæå®šï¼</p>
<h3 id="å‡ å¥åè¯">å‡ å¥åè¯</h3>
<p>å‘å›¾è¡Œä¸è¡Œï¼Œåº”è¯¥è¡Œï¼</p>
<p>å¤šç”¨æˆ·è¡Œä¸è¡Œï¼Œåº”è¯¥è¡Œï¼</p>
<p>å¯ï¼Œæ–‡æ¡£å¤ªæ°´ï¼Œå†çœ‹çœ‹å†çœ‹çœ‹ï¼</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="æŠ˜è…¾" />
                            
                        
                    
                
            
        </entry>
    
        
        <entry>
            <title type="html"><![CDATA[å¾®ä¿¡å°ç¨‹åºè¯„è®ºå¼€å‘è¸©å‘è®°]]></title>
            <link href="https://immmmm.com/bugs-wx-minapp/" rel="alternate" type="text/html" />
            
                <id>https://immmmm.com/bugs-wx-minapp/</id>
            
            
            <published>2020-12-19T23:48:16+08:00</published>
            <updated>2020-12-19T23:48:16+08:00</updated>
            
            
            <content type="html"><![CDATA[<p>å®¹æˆ‘åä¼šå„¿ï¼ï¼ï¼ğŸ¤®</p>
<p>å†²åŠ¨æ˜¯é­”é¬¼ï¼Œå°±å› çœ‹äº† <a href="https://www.ifanr.com/minapp/916787">10 åˆ†é’Ÿæ•™ä½ å®ç°ä¸€ä¸ªæœ‹å‹åœˆå°ç¨‹åº</a> ï¼ŒSoGaï¼æ¢ä¸‹è‡ƒè‚¿çš„ <a href="https://github.com/yicm/NewWxComment">NewWxComment</a> ï¼Œç›´æ¥åŸç”ŸçŸ¥æ™“äº‘çº¯æ”¶å·¥è¯„è®ºå¼€ç ï¼</p>
<p>åˆšå¹²å®Œäº†ï¼šè¯„è®ºã€ç›¸å¯¹æ—¶é—´ã€è¯„è®ºåˆ†é¡µã€ä¸‹æ‹‰åŠ è½½ã€æ’åºåˆ‡æ¢ã€ç‚¹èµã€å›å¤ã€å‰ç«¯åˆ é™¤ã€è®¢é˜…æ¶ˆæ¯ï¼é™¤äº†æäº¤æ–°è¯„è®ºä¼šé‡æ–°æ‹‰å–æ•°æ®ï¼Œå…¶ä»–å‰åç«¯åˆ†åˆ«å¤„ç†ã€‚æœ€èˆ’å¿ƒçš„æ˜¯è¯„è®ºå›å¤çš„æ¶ˆæ¯é€šçŸ¥ï¼</p>
<h3 id="ç›¸å¯¹æ—¶é—´">ç›¸å¯¹æ—¶é—´</h3>
<p>æ—¶é—´æˆ³è½¬ Date åŠæ ¼å¼åŒ–ï¼Œååœ¨ä¸æ”¯æŒ <code>new Date()</code> ï¼Œåœ¨ wxml å†…è°ƒç”¨ wxs æå®šï¼</p>
<h3 id="è¯„è®ºåˆ†é¡µä¸‹æ‹‰åŠ è½½æ’åºåˆ‡æ¢">è¯„è®ºåˆ†é¡µã€ä¸‹æ‹‰åŠ è½½ã€æ’åºåˆ‡æ¢</h3>
<p>ä¸ºäº†å‰ç«¯ç›´æ¥æ¸²æŸ“è„‘å­æsï¼Œååœ¨ä¸æ”¯æŒ push ï¼Œåˆ©ç”¨å„ç§æ•°ç»„æ‹¼ç»„ setData æå®šï¼</p>
<h3 id="ç‚¹èµ">ç‚¹èµ</h3>
<p>æ„Ÿè°¢ <a href="https://blog.csdn.net/qq_41049816/article/details/84792206">å¾®ä¿¡å°ç¨‹åºåˆ—è¡¨ç‚¹èµåŠŸèƒ½</a> çœäº†ä¸å°‘åŠ›ï¼Œä½†ä¾ç„¶ååœ¨ä¸æ”¯æŒ pushï¼Œè¿˜æ²¡å®ç°â€œå·²ç‚¹èµâ€æ ‡ç¤ºï¼Œåªèƒ½åœ¨ç‚¹å‡»æ—¶åˆ¤æ–­ï¼</p>
<h3 id="å›å¤">å›å¤</h3>
<p>ä¾ç„¶ååœ¨ä¸æ”¯æŒ pushï¼ï¼ï¼åˆ©ç”¨ for ã€map å¼ºæ’æå®šï¼</p>
<h3 id="å‰ç«¯åˆ é™¤">å‰ç«¯åˆ é™¤</h3>
<p>æœ€çœå¿ƒçš„åŠŸèƒ½ï¼Œåˆ¤æ–­æ˜¯å¦åˆ›å»ºè€…æˆ–ç®¡ç†è€…ï¼Œæ˜¾ç¤ºã€Œåˆ é™¤ã€æŒ‰é’®ã€‚è¿™æ–¹é¢çŸ¥æ™“äº‘æœåŠ¡åˆ°ä½ï¼</p>
<h3 id="è®¢é˜…æ¶ˆæ¯">è®¢é˜…æ¶ˆæ¯</h3>
<p>url ä¸­æ–‡è½¬ç å¯¼è‡´ page æ— æ³•æ­£å¸¸è·³è½¬ï¼Œkeyword ç‰¹å®šå‚æ•°åŠé™åˆ¶å¯¼è‡´æµ‹è¯•äº†ä¸€ä¸‹åˆï¼ŒåŠ ä¸Š <code>decodeuricomponent()</code> é¡ºåˆ©å›è¡€ï¼</p>]]></content>
            
                 
                    
                 
                    
                         
                        
                            
                             
                                <category scheme="https://immmmm.com/tags/%E6%8A%98%E8%85%BE" term="%E6%8A%98%E8%85%BE" label="æŠ˜è…¾" />
                            
                        
                    
                
            
        </entry>
    
</feed>
